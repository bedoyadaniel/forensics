---
title: How to perform an extraction with AndroidQF?
summary: How to perform an extraction with AndroidQF?
keywords: android, acquisition, extraction, androidqf
authors: 
tags: [androidqf, extraction, acquisition, adquisicion, extraccion]
last_updated: 2025-12-11
some_url:
created: 2025-08-21
comments: true
authors:
    - jose
    - dani
---

# How-to guide: How to perform an acquisition and extraction using AndroidQF?

This document is part of a **technical documentation repository** that aims to establish a proven, flexible and accessible knowledge base to **promote consensual forensic analysis for the benefit of civil society**. To organize the contents, we use the technical documentation framework  [Diataxis](../.../references/00-glossary/index.md#ditaxis).

This resource falls within the category [how-to guides](../), provides instructions on how to perform a forensic extraction using the [AndroidQF](../../references/00-glossary/index.md#androidqf) tool.

## What is AndroidQF?

[AndroidQF](https://github.com/mvt-project/androidqf) is an open-source software tool useful to extract key information and [artifacts](../../references/00-glossary/index.md#forensic-artifact) from an Android device. It is currently maintained by [Amnesty International’s Security Lab](https://securitylab.amnesty.org/es/).

AndroidQF was designed to support investigations managed by technical labs and practitioners in support of journalists, activists and human rights defenders who **might face surveillance and spyware threats**.

AndroidQF acts as a forensic [wrapper](https://developer.mozilla.org/en-US/docs/Glossary/Wrapper) around [ADB](../../references/00-glossary/index.md#adb), automating common commands through modules that **enable quick, safe, and local extractions from any operating system** (Linux, Windows, or macOS), without relying on cloud services or complex installations.

Its utility for civil society contexts lies in its **[portability](../../references/00-glossary/index.md#portable-tool), ease of use, and local execution**.

This guide is complemented by other materials, such as the [dictionary of files generated by AndroidQF](../../references/01-reference-androidqf-dictionary/) or the [explainer on log-based forensics for Android devices](../../explainers/03-explainer-log-forensics-android/).


## Prerequisites to perform a forensic extraction with AndroidQF

To perform a forensic extraction with AndroidQF, **you will need**:

* The **Android device to be analyzed**: Enable Developer Mode and USB Debugging. If needed, consult our guides on [enabling Developer Options](../../references/00-glossary/index.md#developer-mode) or on how to [enable ADB](../../references/00-glossary/index.md#adb).
* **A computer (Windows, Linux, or macOS):** This will be used for the extraction. You must know the chip [architecture of your system](https://www.getorchestra.io/guides/determine-your-systems-architecture-x86-64-or-arm64).
* A **data transfer cable** (phone-to-computer).



### Encryption of extractions

This procedure allows you to enable automatic encryption of extractions generated by AndroidQF using an *AGE* public key. It is recommended when the extraction is done remotely, so you have to send or share information through virtual media, so there is a risk of exposure or you follow some privacy policy.

To do so, follow the steps below:

* If you are the one who decrypts information, you must create a public key and a private key following the [official documentation](https://github.com/FiloSottile/age).
* If you are encrypting the information for someone else to decrypt, ask the person for their public key [AGE](https://github.com/FiloSottile/age).
* In the same directory where the AndroidQF binary is located, create a file named: *key.txt*.
* Open *key.txt*, paste the complete public key in a single line and save the changes.

To decrypt the *.zip*, all you have to do is the following:

* Create a *.txt* file called **private.key** in the directory where the andoridqf binary is located and open it and paste the private key which starts with: *AGE-SECRET-KEY-...*.
* Execute the following command in order to decrypt information:

```
$ age --decrypt -i ~/path/to/privatekey.txt -o <UUID>.zip <UUID>.zip.age
```

!!! note "Check the key pair"

    Make sure that the private key is the public key pair.## Steps to perform a forensic extraction with AndroidQF
    
### :material-numeric-1-box: Download the AndroidQF binary

Below are the detailed steps to perform the forensic extraction:

* **Download** the most recent version of the [binary]() corresponding to the architecture of your computer. Binaries are available from the releases page of the repository:[https://github.com/mvt-project/androidqf/releases/](https://github.com/mvt-project/androidqf/releases/) 

    !!! question "How to identify your architecture??"
        
        If you’re unsure of your system’s architecture, consult this resource to [determine which chip is integrated into your device](https://www.getorchestra.io/guides/determine-your-systems-architecture-x86-64-or-arm64). 

*  **Create a new folder** to store the device extraction and move the downloaded binary into this folder.

### :material-numeric-2-box: Assign execution permissions to the binary (Linux and macOS only)

* If you are using Linux or macOS, you must **assign execution permissions to the binary** before running it. Open a **terminal**, navigate to the folder containing the binary, and execute:


    !!! Warning "Complete the file name"

        The commands below are missing the exact version. **Make sure you use the full name of the binary when completing the commands**. It will look something like this:
        
        ```
        chmod +x ./androidqf_v1.7.1_linux_amd64
        ```

    **Linux:**

    ```
    chmod +x ./androidqf_
    ```

    **MacOS:**

    ```
    chmod +x ./androidqf_
    ```


### :material-numeric-3-box: Connect the phone 

* **Connect** the unlocked Android device to the computer using a USB data cable.

    !!! failure "Not all USB cables are equal"

        Some cables lack the necessary **pin and connections** for data transfer. While this is good from a privacy standpoint, it will not work for an extraction. Ensure you are using a **cable that supports data transfer **(these are often the original cables included with devices or fast-charging cables).  

* When the phone is connected, **a pop-up will appear **requesting permission to allow USB debugging. Select Allow, as shown in Image 1.


    !!! failure "No pop-up o prompt appears"

        If no prompt appears asking for permissions, **try the following**: 

        * Verify that [USB Debugging is enabled](../03-how-to-enable-adb/03-how-to-enable-adb.md).
        * Check **USB configuration settings **and confirm that **File Transfer mode **is selected.
        * Try with a **different cable**. Ensure the cable supports data transfer.

    ![ Captura de pantalla de dispositivo móvil Android Samsung solicitando permiso de acceso a datos.](../../../assets/04-how-to/01-captura-android-permisos-datos.png "imagen 1")
    /// caption
    **Image 1**. Screen capture of an Android Samsung device asking for data access permission
    ///

* **Verify** that the key.txt file is in the same folder as the andoridqf binary if you want to encrypt the extraction.


### :material-numeric-4-box: Run AndroidQF

At this point, AndroidQF can be executed.

=== "Linux y MacOS"

    Execute the **following command**. Make sure you add the full binary name i.e. *androidq_*. 
    
    ``` 
    ./androidqf-linux-v?
    ./androidqf-macos-v?
    ```

    ![Captura de pantalla de terminal de linux con ejecución del binario para el inicio de la extracción](../../../assets/04-how-to/02-captura-terminal-linux-ejecucion.png "imagen 2")
    /// caption
    **Image 2**. Screen capture of a Linux terminal executing the androidqf binary to start an extraction.
    ///

=== "Windows"

    * Go to the folder where you downloaded the binary, as instructed on step 1. **Double click the file** and a security alert window should pop-up. **Click** on more information. 

    ![Captura de pantalla de ventana emergente de protección de Windows.](../../../es/how-tos/04-como-extraer-mediante-androidqf/assets/03-captura-terminal-windows-ejecucion.png "imagen 3")
    /// caption
    **Imagen 3**. Screen capture of a windows computer in Spanish showing a security message and the "more information" option.
    ///

    * Select **“Run Anyway”**

    ![Captura de pantalla de ventana emergente de protección de Windows con la selección de ejecutar de todas formas..](../../../assets/04-how-to/04-captura-pantalla-proteccion-windows.png "imagen 4")
    /// caption
    **Imagen 4**. Screen capture of a windows computer in Spanish showing the "Windows protected your PC message".
    ///



### :material-numeric-5-box: Confirm and configure the extraction


The following steps will be **applied equally** on Linux, Windows, or macOS. Once executed, **AndroidQF will**:

* **Automatically detect** the connected device. This should happen as long as [USB debugging has been enabled]().
* Create a folder with a random UUID to store the [files pertaining to the extraction]().


    !!! question "What is the UUID?"  

        A UUID is a randomly generated number expressed as 32 hexadecimal digits separated into groups of 8-4-4-4-12 digits, for example: ```0caba18f-20a7-48d0-b9ba-724fdaa3ff85```

* AndroidQF will then ask what **type of backup** to perform::

    * **Only** **SMS**: Backup limited to SMS and MMS messages.
    * **Everything**: Full device backup using ```adb backup``` 
    * **No** **Backup**: Skips backup entirely and extracts only other artifacts via ADB.


    !!! warning "Alternative"

        In this example we use the **Only-SMS** option to limit the extraction to only SMS messages, reducing the exposure of additional personal data. Alternatively you can select the **everything** option for a full device backup, that might include additional files from applications that have subscribed to the system backup function. Be aware that the ```adb backup``` function is being deprecated, and is not a reliable way to make a full device backup.

    ![Screenshot of a Linux system terminal, showing the AndroidQF backup meny with the "Only SMS" option selected. ](../../../assets/04-how-to/06-captura-linux-only-sms.png "imagen 7")
    /// caption
    **Image 6**. Screenshot of a Linux system terminal, showing the AndroidQF backup menu with the "Only SMS" option selected. 
    ///


* Once you selected the type of backup, **AndroidQF will request an encryption password** for the backup generated through ADB. In this example, we are using the password sd (initials of seguridad digital).This process is depicted in image 7. 
 
    !!! warning "Alternative"

        If you choose to use more complex randomly generated passwords, make sure to **store them in a password manager ** with proper backups. Alternatively, and particularly if you have adequate infrastructure and solid policies for the protection of evidence, a simple standard password should be enough. 
   
    ![Captura de pantalla de dispositivo móvil Android Samsung solicitando la contraseña temporal del backup sd](../../../assets/04-how-to/07-captura-android-contraseña.png "imagen 7")
    /// caption
    **Image 7**. Screenshot of a Samsung mobile device asking for the backup password ("sd" in this example)
    ///

* Select: **“Backup now”.**

    ![Captura de pantalla de dispositivo móvil Android Samsung con la opción “Copia de seguridad de mis datos” seleccionada](../../../assets/04-how-to/08-captura-android-copia-seguridad.png "imagen 8")
    /// caption
    **Image 8**. Screenshot of a Samsung mobile on the backup and restore screen
    ///

    !!! failure "Common & expected error messages"

        You can expect some errors related to "failed to get file paths for package". This errors do not affect the extraction, and are **NOT an indication of a major issue**.


    ![Captura de pantalla de terminal de linux indicando la recolección de información de paquetes de aplicaciones por parte de AndroidQF.](../../../assets/04-how-to/09-captura-linux-recoleccion.png "imagen 9")
    /// caption
    **Image 9**. Screenshot showing expected errors related to file paths. 
    ///

* After identifying installed packages, AndroidQF will ask** which application APKs to download**:

    * **All**: Downloads all [APKs](../../references/00-glossary/index.md#apk), including system apps. 
    * **Only** **non-system** **packages**: Download only user-installed apps.
    * **Do** **not** **download** **any**: Skip APK downloads entirely.


    !!! warning "What should I select?"

        The best approach will **depend on the context of the investigation**. If you suspect of an **advanced attack that might have impacted system app**s, then use the **"All"** option. On the other hand, if you are mostly interested in the user downloaded apps, you can select "only non-system packages". Omitting system apps will make the extraction smaller in size and a little faster. 


    ![Captura de pantalla de terminal de linux con el menú copias de paquetes de aplicaciones de AndroidQF y la opción Only non-system packages seleccionada.](../../../assets/04-how-to/10-captura-linux-copia-paquetes.png "imagen 10")
    /// caption
    **Image 10**. Screenshot of a Linux system showing the APK selection options, and highlighting the only non-system option. 
    ///

* Next, AndroidQF will ask **whether to exclude APKs signed by trusted developers **(e.g., Google or the device manufacturer) to reduce the size of the extraction.

    * Answer **yes**, so you can focus the analysis on potentially suspicious apps, while saving space.


    !!! warning "Sophisticated attacks"

        If you believe you are dealing with an advanced threat, **sophisticated enough to meddle with trusted applications certificates**, then **select the option "No". 


    ![Captura de pantalla de terminal de linux con el menú de omisión de aplicaciones con certificado confiable de AndroidQF y la opción Yes seleccionada.](../../../assets/04-how-to/11-captura-linux-omision-aplicaciones.png "imagen 11")
    /// caption
    **Imagen 11**. Screenshot of the process in a Linux terminal, using the option to omit applications signed by trusted certificates. 
    ///

* **Wait** until all modules of AndroidQF are executed.

    !!! info "How long does it take?"
        The process **may take several minutes to a an hour depending on the phone model and data size**. Progress is displayed line by line in the terminal. At the end, press Enter to finish.


    ![Captura de pantalla de terminal de linux con el menú de omisión de aplicaciones con certificado confiable de AndroidQF y la opción Yes seleccionada.](../../../assets/04-how-to/12-captura-pantalla-ejecucion-correcta.png "imagen 12")
    /// caption
    **Image 12**. Screenshot of a Linux terminal displaying the messages and progress displayed on a successful AndroidQF extraction. 
    ///


### :material-numeric-6-box: Verify the extraction

Once complete,  it is important to **verify that the acquisition was completed successfully**:


* If you have received an encrypted extraction, it is necessary to decrypt this information first, you can refer to the section on [extraction encryption](#encryption-of-an-extraction).
* Open the file ```command.log``` and search for warning or error messages. If you find matches, verify the errors and warning messages and assess whether they are critical failures. 


=== "Linux / MacOS"

    Use the following command inside the acquisition folder:

    ```
    grep -i "WARNING\|ERROR" command.log
    ```

    ![Captura de pantalla de terminal de linux con el comando grep para buscar errores en el archivo command.log generado por AndoridQF.](../../../assets/04-how-to/13-captura-pantalla-terminal-linux-errores.png "imagen 12")
    /// caption
    **Imagen 12**. Grep command on a Linux system looking for errors on the extraction.
    ///
    

=== "Windows"

    Open the ```command.log``` file using *Notepad*. Open the search menu from the navigation bar or using the keyboard shortcut **ctrl+b** y search for ***WARNING*** or ***ERROR*****.**

    ![Captura de pantalla de terminal de linux con el comando grep para buscar errores en el archivo command.log generado por AndoridQF.](../../../assets/04-how-to/14-captura-pantalla-windows-errores.png "imagen 14")
    /// caption
    **Imagen 14**. Screen-capture of Windows notepad searching for errors in the command.log file 
    ///

* Check that the file ```acquisition.json``` exists and contains expected data. For additional information, consult the [AndroidQF extracted files dictionary](../../references/01-reference-androidqf-dictionary/). 

    ![Captura de pantalla de Sublime Text Con la salida del archivo acquisition.json generado por AndoridQF.](../../../assets/04-how-to/15-captura-pantalla-acquisition.png "imagen 15")
    /// caption
    **Imagen 15**. Screenshot of a text editor displaying the acquisition.json file from an AndoridQF extraction.
    ///

* Ensure that the **following files and folders were generated** in the output directory:

    ```
    ├── apks/
    ├── logs/
    ├── tmp/
    ├── .json  
    ├── backup.ab  
    ├── bugreport.zip  
    ├── command.log  
    ├── dumpsys.txt  
    ├── env.txt  
    ├── files.json  
    ├── getprop.txt  
    ├── hashes.csv  
    ├── logcat.txt  
    ├── packages.json  
    ├── processes.txt  
    ├── root_binaries.json  
    ├── selinux.txt  
    ├── services.txt  
    ├── settings_global.txt  
    ├── settings_secure.txt  
    └── settings_system.txt  
    ```

    ![Captura de pantalla de la aplicación archivos en PopOS\! mostrando la carpeta de salida de archivos y directorios generados con la extracción forense con AndroidQF.](../../../assets/04-how-to/16-captura-pantalla-archivos-salida.png "imagen 15")
    /// caption
    **Imagen 16**. Screenshot of a Linux system showing the files generated by AndroidQF on a successful extraction
    ///

## Conclusion

AndroidQF enables forensic acquisition and extraction from Android devices. It is **widely used by civil society labs due to its practicality, simplicity, and portability**. This guide presented the step-by-step process to conduct an extraction using Windows, Linux or MacOS systems. 

Forensic acquisition is one of the **first steps in an investigation** and is essential for starting triage. The extracted data can then be analyzed manually (see the [file dictionary](../../references/01-reference-androidqf-dictionary/) or with tools such as [MVT](../../references/00-glossary/index.md#mvt).

If you would like to contribute to this or other resoruces, please check our [community](../../community/) section to learn more about how to collaborate and improve this resource. 

## Comments

Do you have any **comment or suggestion** about this resource? You can use the **comment function provided below** to leave your ideas, corrections or thoughts. Please make sure to follow our [code of conduct](../../community/code-of-conduct/) when leaving your comment. If you prefer, you can also participate in the discussion directly in the [github repository](https://github.com/Socialtic/forensics/discussions). 
